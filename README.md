# 📚 سیستم تشخیص جلد کتاب و فیلم با بینایی کامپیوتر  
**Book and movie cover recognition system with computer vision**

سیستمی هوشمند برای تشخیص و تطبیق جلد کتاب‌ها با استفاده از پردازش تصویر و یادگیری ماشین

---

## 🎯 هدف پروژه  
این پروژه قابلیت‌های زیر را ارائه می‌دهد:  
- **تشخیص تصویر**: مقایسه تصویر ورودی با مجموعه جلد کتاب‌ها و یافتن بهترین تطبیق  
- **پردازش ویدئو**: استخراج فریم‌ها از ویدئو ورودی و تشخیص جلد کتاب‌ موجود در آن‌ها و جایگذاری با تریلر مربوط به آن جلد کتاب  
- **رابط کاربری فارسی**: رابط گرافیکی کاربرپسند با پشتیبانی کامل از زبان فارسی  

---

# راهنمای استفاده از پروژه

## پیشنیازها

- Python 3.13+
- نصب کتابخانه ها:
  ```bash
  pip install -r requirements.txt
  ```

---

## ساختار پوشه ها

```
data/
├── input_images/           # تصاویر ورودی برای تست تشخیص تصویر
├── book_movie_images/      # تصاویر جلد کتاب/فیلم
├── input_videos/           # ویدئوهای ورودی برای پردازش
├── trailers/               # ویدئوهای تریلر
├── output_videos/          # ویدئوهای خروجی پردازش‌شده
├── output_images/          # برترین نتیجه همپوشانی تصویر ورودی در اینجا هم ذخیره می شود
├── cache/input_images_overlay_results/ # نتایج همپوشانی تصویر ورودی
├── temp/ # برای ذخیره فریم های ویدئو ورودی، بعد از انجام پردازش پاک می شوند
└── book_trailer_mapping.json  # نگاشت کتاب → فایل تریلر
src/
├── application/
│   ├── interfaces/         # رابطهای انتزاعی
│   └── use_cases/
│       ├── image_processing/
│       ├── video_processing/
│       └── frame_processing/
├── domain/
│   └── entities/           # موجودیت‌های اصلی
├── infrastructure/
│   ├── feature_extractors/ # SIFT
│   ├── matchers/ # FLANN
│   └── repositories/ # مدیریت فایل ها
└── presentation/
    └── gui/                # اپلیکیشن دسکتاپ با Tkinter
tests/                      # تست‌های واحد و انتها-به-انتها
```

---

## تنظیم نگاشت کتاب و تریلر

فایل `data/book_trailer_mapping.json` نگاشت زیر را دارد:

```json
{
  "A_Game_Of_Thrones_book": "Game of Thrones.mp4",
  "The_Hobbit_book": "The Hobbit.mp4"
}
```

کلیدها باید با نام `book.name` در دیتابیس تصاویر همخوانی داشته باشند.
---
## 🎮 نحوه استفاده  

### تشخیص تصویر  
1. تصویر ورودی را از پوشه `data/input_images` انتخاب کنید  
2. پوشه جلد کتاب‌ها را مشخص کنید (`data/book_images`)  
3. روی دکمه **"تشخیص تصویر"** کلیک کنید  
4. نتایج را مرتب‌شده بر اساس امتیاز اعتماد مشاهده کنید  

### پردازش ویدئو  
1. ویدئوی را از پوشه `data/input_videos` انتخاب کنید  
2. پارامترهای پردازش را تنظیم کنید:  
   - **Frame Skip** (1–120): فاصله بین فریم‌های پردازش شده  
   - **Min Confidence** (0–100): حداقل امتیاز لازم برای قبول تطابق 
3. کلیک روی “پردازش ویدئو”  
4. ویدئوی خروجی در `data/output_videos` ذخیره میشود  

---

## اجرای تستها

```bash
pytest --maxfail=1 --disable-warnings -q
```

---

## نکات

- برای پردازش سریعتر میتوانید تعداد Workerها را در GUI یا کد تغییر دهید.
- اگر کتابی در فریم میانی تشخیص داده نشد یا تریلر متناظر پیدا نشد، پیام خطا نمایش داده میشود.

---

## 🛡️ مجوز

این پروژه تحت مجوز MIT منتشر شده است. جزئیات در فایل [LICENSE](LICENSE) موجود است.

---

## 👥 سازنده

- **سید علی حسینی نسب** – توسعه‌دهنده اصلی

---

<div align="center">
  <p>ساخته شده با ❤️ برای درس بینایی کامپیوتر</p>
  <p>دانشگاه فردوسی مشهد – دانشکده مهندسی</p>
</div>
