# معماری سیستم (ARCHITECTURE)

در این سند، معماری کلی سیستم "سیستم تشخیص جلد کتاب و فیلم" شرح داده می‌شود.

## لایه‌ها و ساختار

```
src/
├── presentation/ # رابط کاربری (GUI)
├── application/
│ ├── interfaces/ # اینترفیسها
│ └── use_cases/ # منطق کسبوکار
│ ├── image_processing/
│ ├── frame_processing/
│ └── video_processing/
├── domain/
│ └── entities/ # مدلهای دامنه
└── infrastructure/
├── feature_extractors/ # ماژول استخراج ویژگی
└── repositories/ # دسترسی به دادهها
```

### جریان داده (Data Flow)
1. کاربر از طریق **presentation** درخواست تشخیص تصویر یا پردازش ویدئو می‌دهد.  
2. **application** منطق اصلی را با استفاده از اینترفیس‌ها فراخوانی می‌کند.  
3. **infrastructure** وظیفه استخراج ویژگی و دسترسی به پایگاه داده تصاویر را دارد.  
4. نتیجه به **presentation** باز می‌گردد و در GUI نمایش داده می‌شود.

## ماژول‌های کلیدی

### استخراج ویژگی (Feature Extraction)
- پیاده‌سازی با استفاده از معماری CNN (ResNet).  
- خروجی: بردار ویژگی ۲۵۶ بعدی.

### تطبیق بردارها (Vector Matching)
- مقایسه با معیار **کسینوس شباهت**.  
- مرتب‌سازی نتایج بر اساس امتیاز.

### پردازش ویدئو (Video Processing)
- مقایسه 3 فریم‌ از ویدئو با جلد کتاب برای پیدا کردن بهترین مچ.  
- جایگذاری فریم ویدئو با تریلر در صورت تطبیق.
